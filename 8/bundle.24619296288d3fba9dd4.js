(()=>{var e={10:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(537),s=n.n(i),a=n(645),r=n.n(a)()(s());r.push([e.id,".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n","",{version:3,sources:["webpack://./src/framework/view/abstract-view.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF",sourcesContent:[".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n"],sourceRoot:""}]);const o=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(r[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);i&&r[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),t.push(l))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),a="/*# ".concat(s," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},484:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",i="second",s="minute",a="hour",r="day",o="week",c="month",d="quarter",l="year",f="date",u="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(i,c),a=n-s<0,r=t.clone().add(i+(a?-1:1),c);return+(-(i+(n-s)/(a?s-r:r-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:o,d:r,D:f,h:a,m:s,s:i,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",g={};g[y]=b;var _="$isDayjsObject",$=function(e){return e instanceof w||!(!e||!e[_])},C=function e(t,n,i){var s;if(!t)return y;if("string"==typeof t){var a=t.toLowerCase();g[a]&&(s=a),n&&(g[a]=n,s=a);var r=t.split("-");if(!s&&r.length>1)return e(r[0])}else{var o=t.name;g[o]=t,s=o}return!i&&s&&(y=s),s||!i&&y},T=function(e,t){if($(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},k=m;k.l=C,k.i=$,k.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function b(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[_]=!0}var v=b.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(p);if(i){var s=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return k},v.isValid=function(){return!(this.$d.toString()===u)},v.isSame=function(e,t){var n=T(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return T(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<T(e)},v.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,d=!!k.u(t)||t,u=k.p(e),p=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return d?i:i.endOf(r)},h=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},b=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case l:return d?p(1,0):p(31,11);case c:return d?p(1,v):p(0,v+1);case o:var g=this.$locale().weekStart||0,_=(b<g?b+7:b)-g;return p(d?m-_:m+(6-_),v);case r:case f:return h(y+"Hours",0);case a:return h(y+"Minutes",1);case s:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var o,d=k.p(e),u="set"+(this.$u?"UTC":""),p=(o={},o[r]=u+"Date",o[f]=u+"Date",o[c]=u+"Month",o[l]=u+"FullYear",o[a]=u+"Hours",o[s]=u+"Minutes",o[i]=u+"Seconds",o[n]=u+"Milliseconds",o)[d],h=d===r?this.$D+(t-this.$W):t;if(d===c||d===l){var b=this.clone().set(f,1);b.$d[p](h),b.init(),this.$d=b.set(f,Math.min(this.$D,b.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[k.p(e)]()},v.add=function(n,d){var f,u=this;n=Number(n);var p=k.p(d),h=function(e){var t=T(u);return k.w(t.date(t.date()+Math.round(e*n)),u)};if(p===c)return this.set(c,this.$M+n);if(p===l)return this.set(l,this.$y+n);if(p===r)return h(1);if(p===o)return h(7);var b=(f={},f[s]=e,f[a]=t,f[i]=1e3,f)[p]||1,v=this.$d.getTime()+n*b;return k.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var i=e||"YYYY-MM-DDTHH:mm:ssZ",s=k.z(this),a=this.$H,r=this.$m,o=this.$M,c=n.weekdays,d=n.months,l=n.meridiem,f=function(e,n,s,a){return e&&(e[n]||e(t,i))||s[n].slice(0,a)},p=function(e){return k.s(a%12||12,e,"0")},b=l||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(h,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return o+1;case"MM":return k.s(o+1,2,"0");case"MMM":return f(n.monthsShort,o,d,3);case"MMMM":return f(d,o);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(n.weekdaysMin,t.$W,c,2);case"ddd":return f(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return k.s(a,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return b(a,r,!0);case"A":return b(a,r,!1);case"m":return String(r);case"mm":return k.s(r,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,f,u){var p,h=this,b=k.p(f),v=T(n),m=(v.utcOffset()-this.utcOffset())*e,y=this-v,g=function(){return k.m(h,v)};switch(b){case l:p=g()/12;break;case c:p=g();break;case d:p=g()/3;break;case o:p=(y-m)/6048e5;break;case r:p=(y-m)/864e5;break;case a:p=y/t;break;case s:p=y/e;break;case i:p=y/1e3;break;default:p=y}return u?p:k.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return g[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=C(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return k.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},b}(),E=w.prototype;return T.prototype=E,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",r],["$M",c],["$y",l],["$D",f]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),T.extend=function(e,t){return e.$i||(e(t,w,T),e.$i=!0),T},T.locale=C,T.isDayjs=$,T.unix=function(e){return T(1e3*e)},T.en=g[y],T.Ls=g,T.p={},T}()},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var a={},r=[],o=0;o<e.length;o++){var c=e[o],d=i.base?c[0]+i.base:c[0],l=a[d]||0,f="".concat(d," ").concat(l);a[d]=l+1;var u=n(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var h=s(p,i);i.byIndex=o,t.splice(o,0,{identifier:f,updater:h,references:1})}r.push(f)}return r}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var a=i(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<a.length;r++){var o=n(a[r]);t[o].references--}for(var c=i(e,s),d=0;d<a.length;d++){var l=n(a[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={id:i,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(379),t=n.n(e),i=n(795),s=n.n(i),a=n(569),r=n.n(a),o=n(565),c=n.n(o),d=n(216),l=n.n(d),f=n(589),u=n.n(f),p=n(10),h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=r().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=l(),t()(p.Z,h),p.Z&&p.Z.locals&&p.Z.locals;const b="shake";class v{#e=null;constructor(){if(new.target===v)throw new Error("Can't instantiate AbstractView, only concrete one.")}get element(){return this.#e||(this.#e=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(this.template)),this.#e}get template(){throw new Error("Abstract method not implemented: get template")}removeElement(){this.#e=null}shake(e){this.element.classList.add(b),setTimeout((()=>{this.element.classList.remove(b),e?.()}),600)}}const m="afterbegin";function y(e,t,n="beforeend"){if(!(e instanceof v))throw new Error("Can render only components");if(null===t)throw new Error("Container element doesn't exist");t.insertAdjacentElement(n,e.element)}function g(e,t){if(!(e instanceof v&&t instanceof v))throw new Error("Can replace only components");const n=e.element,i=t.element,s=i.parentElement;if(null===s)throw new Error("Parent element doesn't exist");s.replaceChild(n,i)}function _(e){if(null!==e){if(!(e instanceof v))throw new Error("Can remove only components");e.element.remove(),e.removeElement()}}var $=n(484),C=n.n($);const T=["taxi","bus","train","ship","drive","flight","check-in","sightseeing","restaurant"],k="HH:mm",w="DD/MM/YY HH:mm",E="everything",D="future",F="present",M="past",S=C()(),P={[E]:e=>e.filter((e=>e)),[D]:e=>e.filter((e=>C()(e.dateFrom)>S)),[F]:e=>e.filter((e=>C()(e.dateFrom)<=S&&C()(e.dateTo)>=S)),[M]:e=>e.filter((e=>C()(e.dateTo)<S))},A=[{id:"2d1ec240-1e78-4183-b27e-7023f2ce9320",description:"Kioto - famous for its crowded street markets with the best street food in Asia",name:"Kioto",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/5.jpg",description:"Kioto is a beautiful city"},{src:"https://22.objects.htmlacademy.pro/static/destinations/10.jpg",description:"Kioto with an embankment of a mighty river as a centre of attraction"},{src:"https://22.objects.htmlacademy.pro/static/destinations/10.jpg",description:"Kioto full of of cozy canteens where you can try the best coffee in the Middle East"},{src:"https://22.objects.htmlacademy.pro/static/destinations/20.jpg",description:"Kioto in a middle of Europe"}]},{id:"496bf9c6-7644-4068-baa0-8b1577df8854",description:"Amsterdam - middle-eastern paradise",name:"Amsterdam",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/13.jpg",description:"Amsterdam for those who value comfort and coziness"}]},{id:"97ba1bc6-b161-4015-b0a5-e1f31a3b972d",description:"Venice - a true asian pearl",name:"Venice",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/10.jpg",description:"Venice famous for its crowded street markets with the best street food in Asia"},{src:"https://22.objects.htmlacademy.pro/static/destinations/12.jpg",description:"Venice a true asian pearl"},{src:"https://22.objects.htmlacademy.pro/static/destinations/6.jpg",description:"Venice in a middle of Europe"},{src:"https://22.objects.htmlacademy.pro/static/destinations/16.jpg",description:"Venice in a middle of Europe"},{src:"https://22.objects.htmlacademy.pro/static/destinations/11.jpg",description:"Venice a true asian pearl"}]},{id:"9bbe4200-020c-4f3c-9640-81648421f209",description:"Berlin - famous for its crowded street markets with the best street food in Asia",name:"Berlin",pictures:[]},{id:"c8eab9ce-c072-4114-9412-76f8023ba638",description:"Helsinki - middle-eastern paradise",name:"Helsinki",pictures:[]},{id:"7d2cc347-4428-45cb-b406-ef07ed787acc",description:"Sochi - with crowded streets",name:"Sochi",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/3.jpg",description:"Sochi with an embankment of a mighty river as a centre of attraction"},{src:"https://22.objects.htmlacademy.pro/static/destinations/18.jpg",description:"Sochi a true asian pearl"},{src:"https://22.objects.htmlacademy.pro/static/destinations/13.jpg",description:"Sochi a true asian pearl"},{src:"https://22.objects.htmlacademy.pro/static/destinations/9.jpg",description:"Sochi with crowded streets"}]},{id:"21a059e3-af4a-4881-a3cc-40a381484c44",description:"",name:"Vien",pictures:[]},{id:"124c439f-1764-4bd2-917e-50973a77f227",description:"Chamonix-Mont-Blanc (usually shortened to Chamonix) is a resort area near the junction of France, Switzerland and Italy. At the base of Mont Blanc, the highest summit in the Alps, its renowned for its skiing.",name:"Chamonix",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/11.jpg",description:"Chamonix a perfect place to stay with a family"},{src:"https://22.objects.htmlacademy.pro/static/destinations/2.jpg",description:"Chamonix famous for its crowded street markets with the best street food in Asia"},{src:"https://22.objects.htmlacademy.pro/static/destinations/19.jpg",description:"Chamonix full of of cozy canteens where you can try the best coffee in the Middle East"},{src:"https://22.objects.htmlacademy.pro/static/destinations/19.jpg",description:"Chamonix in a middle of Europe"},{src:"https://22.objects.htmlacademy.pro/static/destinations/4.jpg",description:"Chamonix famous for its crowded street markets with the best street food in Asia"}]},{id:"53b6b366-1de8-447a-93ae-e71dc7d59aa7",description:"Rome - with a beautiful old town",name:"Rome",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/17.jpg",description:"Rome with a beautiful old town"},{src:"https://22.objects.htmlacademy.pro/static/destinations/18.jpg",description:"Rome in a middle of Europe"},{src:"https://22.objects.htmlacademy.pro/static/destinations/5.jpg",description:"Rome for those who value comfort and coziness"},{src:"https://22.objects.htmlacademy.pro/static/destinations/8.jpg",description:"Rome with crowded streets"}]},{id:"1b17f449-8447-46a0-934e-fc54af3dd4ca",description:"Oslo - with an embankment of a mighty river as a centre of attraction",name:"Oslo",pictures:[{src:"https://22.objects.htmlacademy.pro/static/destinations/19.jpg",description:"Oslo is a beautiful city"}]}],j=[{id:"a72349a8-ca9d-4c0d-9007-d9ae3db4e2ae",basePrice:8581,dateFrom:"2024-12-14T19:13:11.060Z",dateTo:"2024-12-16T01:45:11.060Z",destination:"c8eab9ce-c072-4114-9412-76f8023ba638",isFavorite:!1,offers:["1e7ab78b-3faa-48b3-aab7-266373f30cde"],type:"taxi"},{id:"d71d1b94-dc80-4b83-bd27-3ca705acfb33",basePrice:1120,dateFrom:"2024-12-18T01:25:11.060Z",dateTo:"2024-12-19T16:44:11.060Z",destination:"7d2cc347-4428-45cb-b406-ef07ed787acc",isFavorite:!1,offers:["1e7ab78b-3faa-48b3-aab7-266373f30cde"],type:"taxi"},{id:"44351617-c7fd-4118-9876-f6aa892e2f37",basePrice:3339,dateFrom:"2024-12-10T12:10:00.060Z",dateTo:"2024-12-11T12:00:00.060Z",destination:"9bbe4200-020c-4f3c-9640-81648421f209",isFavorite:!0,offers:["7f58bdd5-9809-4722-83c2-bcaa9e092e54","8309542d-7494-4299-a93c-32a2b4c982c2","f0d18307-8693-4c1a-b25b-043b3c1b9ed1","f9e6902f-48b3-4f5b-9755-2cf03531e149"],type:"ship"},{id:"efddfe0a-b94c-40ec-bad0-f63d7c1e56e1",basePrice:9946,dateFrom:"2024-12-23T10:20:11.060Z",dateTo:"2024-12-23T10:30:11.060Z",destination:"97ba1bc6-b161-4015-b0a5-e1f31a3b972d",isFavorite:!0,offers:[],type:"ship"},{id:"05928710-aa42-4cd7-ad19-2320b56c3ced",basePrice:2632,dateFrom:"2024-12-24T16:40:11.060Z",dateTo:"2024-12-25T20:17:11.060Z",destination:"124c439f-1764-4bd2-917e-50973a77f227",isFavorite:!0,offers:["f9cba921-201c-46e3-9f9c-181669310fc7","266854a6-32ce-43c2-afad-25fa2d1cff1f"],type:"restaurant"},{id:"a90e2114-1c72-4b20-984c-95c6d2c93d21",basePrice:9375,dateFrom:"2024-12-26T14:02:11.060Z",dateTo:"2024-12-27T18:52:11.060Z",destination:"124c439f-1764-4bd2-917e-50973a77f227",isFavorite:!0,offers:[],type:"train"},{id:"2b8b73ff-f17e-4596-ab44-0b53f98d42f4",basePrice:8216,dateFrom:"2024-12-28T11:46:11.060Z",dateTo:"2024-12-29T01:40:11.060Z",destination:"21a059e3-af4a-4881-a3cc-40a381484c44",isFavorite:!1,offers:["df563b88-4847-4a3c-ac72-e28a01d65345","df51a087-0baf-4b2b-8cd2-0d3da21acc53","1e7ab78b-3faa-48b3-aab7-266373f30cde"],type:"taxi"},{id:"bcd87b64-e570-41f9-af5b-c622c3822ebb",basePrice:7099,dateFrom:"2024-12-29T12:03:11.060Z",dateTo:"2024-12-30T06:27:11.060Z",destination:"c8eab9ce-c072-4114-9412-76f8023ba638",isFavorite:!0,offers:[],type:"ship"},{id:"cd8ee95b-95e9-42ab-81d2-232d1070b84a",basePrice:7453,dateFrom:"2024-12-30T14:34:11.060Z",dateTo:"2024-12-31T05:45:11.060Z",destination:"53b6b366-1de8-447a-93ae-e71dc7d59aa7",isFavorite:!0,offers:[],type:"restaurant"},{id:"81b18db0-4178-4d23-b135-0c4805ddef7e",basePrice:7777,dateFrom:"2025-01-01T20:52:11.060Z",dateTo:"2025-01-30T09:09:11.060Z",destination:"7d2cc347-4428-45cb-b406-ef07ed787acc",isFavorite:!1,offers:[],type:"restaurant"},{id:"7a10e74f-b5e4-4207-ad16-94bda36a2dc3",basePrice:5293,dateFrom:"2025-02-03T06:19:11.060Z",dateTo:"2025-02-03T14:36:11.060Z",destination:"53b6b366-1de8-447a-93ae-e71dc7d59aa7",isFavorite:!1,offers:["c2ae2b1c-afc4-43be-8163-f88ed2cd1137","cae3afff-8cb2-4490-b611-a0c25baac039"],type:"drive"},{id:"e1ccdcdd-d790-4c13-9482-828537be9e1e",basePrice:9581,dateFrom:"2025-02-04T07:52:11.060Z",dateTo:"2025-02-05T01:21:11.060Z",destination:"c8eab9ce-c072-4114-9412-76f8023ba638",isFavorite:!1,offers:["8309542d-7494-4299-a93c-32a2b4c982c2","f0d18307-8693-4c1a-b25b-043b3c1b9ed1","f9e6902f-48b3-4f5b-9755-2cf03531e149"],type:"ship"},{id:"7caa7469-cfe9-49a6-a48d-cfa3e8266cbb",basePrice:8613,dateFrom:"2025-02-05T20:40:11.060Z",dateTo:"2025-02-07T14:35:11.060Z",destination:"496bf9c6-7644-4068-baa0-8b1577df8854",isFavorite:!1,offers:["6a7e124a-0c0f-439d-b6e0-f98633920612"],type:"train"},{id:"cfc55ed5-b54f-40b4-a940-33b3ca7a719d",basePrice:9898,dateFrom:"2025-03-08T05:16:11.060Z",dateTo:"2025-03-08T22:20:11.060Z",destination:"2d1ec240-1e78-4183-b27e-7023f2ce9320",isFavorite:!1,offers:["df563b88-4847-4a3c-ac72-e28a01d65345","df51a087-0baf-4b2b-8cd2-0d3da21acc53","1e7ab78b-3faa-48b3-aab7-266373f30cde"],type:"taxi"},{id:"7a2e33ed-09b8-49ca-a358-76a180af93c9",basePrice:6171,dateFrom:"2025-03-09T14:23:11.060Z",dateTo:"2025-03-10T13:29:11.060Z",destination:"496bf9c6-7644-4068-baa0-8b1577df8854",isFavorite:!0,offers:[],type:"taxi"},{id:"7d843d6c-cd96-4d4d-850e-1793a53b28fc",basePrice:9467,dateFrom:"2025-03-11T22:35:11.060Z",dateTo:"2025-03-12T15:33:11.060Z",destination:"c8eab9ce-c072-4114-9412-76f8023ba638",isFavorite:!1,offers:[],type:"bus"},{id:"6ee96ae1-6454-49ee-bd21-5f6d0a315fca",basePrice:761,dateFrom:"2025-03-13T18:04:11.060Z",dateTo:"2025-03-15T14:35:11.060Z",destination:"9bbe4200-020c-4f3c-9640-81648421f209",isFavorite:!0,offers:["04f9d7a2-5515-4404-8f46-720eed54bde7","9cfa4298-4ac7-4e98-ab73-adbbc3eba2e2"],type:"flight"},{id:"18e57d62-95a3-433a-bef3-07bc5c013bdb",basePrice:748,dateFrom:"2025-03-17T04:29:11.060Z",dateTo:"2025-03-18T13:56:11.060Z",destination:"53b6b366-1de8-447a-93ae-e71dc7d59aa7",isFavorite:!0,offers:["f671947a-8b29-4c39-99fc-d56adfb34ef5"],type:"bus"},{id:"989158b1-d4c9-4a03-8e14-f2ef8997e349",basePrice:6737,dateFrom:"2025-03-19T00:29:11.060Z",dateTo:"2025-03-19T20:50:11.060Z",destination:"9bbe4200-020c-4f3c-9640-81648421f209",isFavorite:!1,offers:["319d74a8-a921-4fe0-8af7-9d04025028e6","ebe35193-f40b-4980-8534-d3ccf5bb00a0","c22f8e91-8517-4e7c-bca7-c317eb0427ed","b661a95e-82fe-407c-b3e6-0494959e8270"],type:"check-in"},{id:"f0ec862b-5357-4346-b14d-a2be1d12322b",basePrice:2088,dateFrom:"2025-03-21T01:54:11.060Z",dateTo:"2025-03-22T13:27:11.060Z",destination:"c8eab9ce-c072-4114-9412-76f8023ba638",isFavorite:!1,offers:["4f826ce7-b60e-4feb-a6a6-5fba9ad65c68","dd5a0d0e-d1ae-4afc-bc8a-a68eb2e4c54b","df563b88-4847-4a3c-ac72-e28a01d65345","df51a087-0baf-4b2b-8cd2-0d3da21acc53","1e7ab78b-3faa-48b3-aab7-266373f30cde"],type:"taxi"},{id:"a1e50061-b946-44c1-a542-82f1f47a57f7",basePrice:2317,dateFrom:"2025-03-24T12:51:11.060Z",dateTo:"2025-03-25T22:33:11.060Z",destination:"496bf9c6-7644-4068-baa0-8b1577df8854",isFavorite:!1,offers:[],type:"ship"},{id:"8d5d2b55-96d7-4e2f-b6c5-f79ab4f69876",basePrice:3593,dateFrom:"2025-03-26T19:09:11.060Z",dateTo:"2025-03-27T19:49:11.060Z",destination:"7d2cc347-4428-45cb-b406-ef07ed787acc",isFavorite:!0,offers:[],type:"sightseeing"},{id:"07f20ffa-6b2d-4905-8dee-0140d539f205",basePrice:748,dateFrom:"2025-03-29T06:54:11.060Z",dateTo:"2025-03-30T11:59:11.060Z",destination:"496bf9c6-7644-4068-baa0-8b1577df8854",isFavorite:!0,offers:[],type:"taxi"},{id:"f13e5fd4-42ab-4b2e-bdb6-4002532c33c5",basePrice:7669,dateFrom:"2025-03-31T14:21:11.060Z",dateTo:"2025-03-02T05:12:11.060Z",destination:"c8eab9ce-c072-4114-9412-76f8023ba638",isFavorite:!0,offers:["a679fab7-7434-49e8-8ba3-ba810a5e7724","6a7e124a-0c0f-439d-b6e0-f98633920612"],type:"train"},{id:"2ea1c048-685c-4ade-ba7c-058b6ab98594",basePrice:8686,dateFrom:"2025-03-02T12:04:11.060Z",dateTo:"2025-03-03T10:52:11.060Z",destination:"2d1ec240-1e78-4183-b27e-7023f2ce9320",isFavorite:!0,offers:["b661a95e-82fe-407c-b3e6-0494959e8270"],type:"check-in"}],O={id:"",basePrice:"",dateFrom:(new Date).setHours(0,0,0,0),dateTo:(new Date).setHours(0,0,0,0),destination:"",isFavorite:!1,offers:[],type:"flight"},x=[{type:"taxi",offers:[{id:"4f826ce7-b60e-4feb-a6a6-5fba9ad65c68",title:"Upgrade to a business class",price:75},{id:"dd5a0d0e-d1ae-4afc-bc8a-a68eb2e4c54b",title:"Choose the radio station",price:104},{id:"df563b88-4847-4a3c-ac72-e28a01d65345",title:"Choose temperature",price:99},{id:"df51a087-0baf-4b2b-8cd2-0d3da21acc53",title:"Drive quickly, I'm in a hurry",price:80},{id:"1e7ab78b-3faa-48b3-aab7-266373f30cde",title:"Drive slowly",price:96}]},{type:"bus",offers:[{id:"2d541885-7c81-4293-9602-96376ec81fb6",title:"Infotainment system",price:59},{id:"6839add0-091d-4144-b3a5-210187235ae8",title:"Order meal",price:159},{id:"f671947a-8b29-4c39-99fc-d56adfb34ef5",title:"Choose seats",price:65}]},{type:"train",offers:[{id:"0c8b452c-9a54-4aa5-a7d2-db6d34c95456",title:"Book a taxi at the arrival point",price:159},{id:"a679fab7-7434-49e8-8ba3-ba810a5e7724",title:"Order a breakfast",price:151},{id:"6a7e124a-0c0f-439d-b6e0-f98633920612",title:"Wake up at a certain time",price:177}]},{type:"flight",offers:[{id:"65bcf5d6-348b-488e-bdba-2c08d497eb8e",title:"Choose meal",price:106},{id:"39a0e0ff-be69-4249-8003-a31eb0b2cf93",title:"Choose seats",price:114},{id:"972c9b08-c84d-4be6-8511-93922a208e3e",title:"Upgrade to comfort class",price:194},{id:"7d8a3707-7953-4d47-b46b-ebf3889b5190",title:"Upgrade to business class",price:193},{id:"04f9d7a2-5515-4404-8f46-720eed54bde7",title:"Add luggage",price:66},{id:"9cfa4298-4ac7-4e98-ab73-adbbc3eba2e2",title:"Business lounge",price:80}]},{type:"check-in",offers:[{id:"245f88c9-fde6-4d7f-a4c7-94d1482aa34f",title:"Choose the time of check-in",price:169},{id:"319d74a8-a921-4fe0-8af7-9d04025028e6",title:"Choose the time of check-out",price:126},{id:"ebe35193-f40b-4980-8534-d3ccf5bb00a0",title:"Add breakfast",price:39},{id:"c22f8e91-8517-4e7c-bca7-c317eb0427ed",title:"Laundry",price:84},{id:"b661a95e-82fe-407c-b3e6-0494959e8270",title:"Order a meal from the restaurant",price:139}]},{type:"sightseeing",offers:[]},{type:"ship",offers:[{id:"24ab1acf-10d1-45eb-ab43-864fbd4d957f",title:"Choose meal",price:119},{id:"c651fe18-cf4e-4649-872b-34a89b5a533d",title:"Choose seats",price:197},{id:"7f58bdd5-9809-4722-83c2-bcaa9e092e54",title:"Upgrade to comfort class",price:104},{id:"8309542d-7494-4299-a93c-32a2b4c982c2",title:"Upgrade to business class",price:73},{id:"f0d18307-8693-4c1a-b25b-043b3c1b9ed1",title:"Add luggage",price:155},{id:"f9e6902f-48b3-4f5b-9755-2cf03531e149",title:"Business lounge",price:86}]},{type:"drive",offers:[{id:"c2ae2b1c-afc4-43be-8163-f88ed2cd1137",title:"With automatic transmission",price:144},{id:"cae3afff-8cb2-4490-b611-a0c25baac039",title:"With air conditioning",price:120}]},{type:"restaurant",offers:[{id:"f9cba921-201c-46e3-9f9c-181669310fc7",title:"Choose live music",price:127},{id:"266854a6-32ce-43c2-afad-25fa2d1cff1f",title:"Choose VIP area",price:88}]}];function Z(e){return e[0].toUpperCase()+e.slice(1)}function H(e,t){return e.map((e=>e.id===t.id?t:e))}function L(e,t){return e?C()(e).format(t):""}function I(e){return C()(e.dateFrom).diff(e.dateTo)}class B extends v{#t=null;#n=null;#i=null;#s=null;#a=null;#r=null;constructor({event:e,currentDestination:t,currentOffersPack:n,onToggleClick:i,onFavoriteClick:s}){super(),this.#t=e.id,this.#n=e,this.#i=t,this.#s=n,this.#a=i,this.#r=s,this.element.querySelector(".event__rollup-btn").addEventListener("click",this.#o),this.element.querySelector(".event__favorite-btn").addEventListener("click",this.#c)}get template(){return function(e,t,n,i){const s=L(t.dateFrom,"MMM DD"),a=L(t.dateFrom,k),r=L(t.dateTo,k),o=function(e,t){const n=C()(e).diff(t,"day"),i=C()(e).diff(t,"hour")-24*n,s=C()(e).diff(t,"minute")-(60*i+24*n*60);let a="";n>0&&n<10?a=`0${n}D`:n>=10&&(a=`${n}D`);let r="";return i>0&&i<10?r=`0${i}H`:i>=10?r=`${i}H`:0!==n&&(r="00H"),`${a} ${r} ${0!==s?`${s}M`:"00M"}`}(t.dateTo,t.dateFrom),c=t.isFavorite?" event__favorite-btn--active":"";return`<li class="trip-events__item">\n      <div id = "${e}" class="event">\n        <time class="event__date" datetime="${t.dateFrom}">${s}</time>\n        <div class="event__type">\n          <img class="event__type-icon" width="42" height="42" src="img/icons/${t.type}.png" alt="Event type icon">\n        </div>\n        <h3 class="event__title">${Z(t.type)} ${n.name}</h3>\n        <div class="event__schedule">\n          <p class="event__time">\n            <time class="event__start-time" datetime="${t.dateFrom}">${a}</time>\n            &mdash;\n            <time class="event__end-time" datetime="${t.dateTo}">${r}</time>\n          </p>\n          <p class="event__duration">${o}</p>\n        </div>\n        <p class="event__price">\n          &euro;&nbsp;<span class="event__price-value">${t.basePrice}</span>\n        </p>\n        ${function(e,t){const n=t.offers.filter((t=>e.offers.includes(t.id)));return 0!==n.length?`<h4 class="visually-hidden">Offers:</h4>\n      <ul class="event__selected-offers">\n        ${n.map((e=>function(e){return`<li class="event__offer">\n      <span class="event__offer-title">${e.title}</span>\n      &plus;&euro;&nbsp;\n      <span class="event__offer-price">${e.price}</span>\n    </li>`}(e))).join("")}\n      </ul>`:""}(t,i)}\n        <button class="event__favorite-btn${c}" type="button">\n          <span class="visually-hidden">Add to favorite</span>\n          <svg class="event__favorite-icon" width="28" height="28" viewBox="0 0 28 28">\n            <path d="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"/>\n          </svg>\n        </button>\n        <button class="event__rollup-btn" type="button">\n          <span class="visually-hidden">Open event</span>\n        </button>\n      </div>\n    </li>`}(this.#t,this.#n,this.#i,this.#s)}#o=e=>{e.preventDefault(),this.#a()};#c=e=>{e.preventDefault(),this.#r()}}class U extends v{#t=null;#n=null;#i=null;#s=null;#d=null;#l=null;#a=null;#f=null;constructor({event:e,currentDestination:t,currentOffersPack:n,allDestinations:i,allOffersPacks:s,onToggleClick:a,onFormSubmit:r}){super(),this.#t=e.id,this.#n=e,this.#i=t,this.#s=n,this.#d=i,this.#l=s,this.#a=a,this.#f=r,this.element.querySelector(".event__rollup-btn").addEventListener("click",this.#o),this.element.querySelector("form").addEventListener("submit",this.#u)}get template(){return e=this.#t,t=this.#n,n=this.#i,i=this.#s,s=this.#d,this.#l,`<li class="trip-events__item">\n      <form class="event event--edit" action="#" method="post">\n        <header class="event__header">\n          <div class="event__type-wrapper">\n            <label class="event__type  event__type-btn" for="event-type-toggle-${e}">\n              <span class="visually-hidden">Choose event type</span>\n              <img class="event__type-icon" width="17" height="17" src="img/icons/${t.type}.png" alt="Event type icon">\n            </label>\n            <input class="event__type-toggle  visually-hidden" id="event-type-toggle-${e}" type="checkbox">\n            ${function(e,t,n){return`<div class="event__type-list">\n      <fieldset class="event__type-group">\n        <legend class="visually-hidden">Event type</legend>\n        ${t.map((t=>function(e,t,n){return`<div class="event__type-item">\n      <input id="event-type-${t}-${n}" class="event__type-input  visually-hidden" type="radio" name="event-type" value="${t}" ${e.type===t?"checked":""}>\n      <label class="event__type-label  event__type-label--${t}" for="event-type-${t}-${n}">${Z(t)}</label>\n    </div>`}(e,t,n))).join("")}\n      </fieldset>\n    </div>`}(t,T,e)}\n          </div>\n\n          <div class="event__field-group  event__field-group--destination">\n            <label class="event__label  event__type-output" for="event-destination-${e}">\n              ${Z(t.type)}\n            </label>\n            <input class="event__input  event__input--destination" id="event-destination-${e}" type="text" name="event-destination" value="${n?n.name:""}" list="destination-list-${e}">\n            ${function(e,t){return`<datalist id="destination-list-${t}">\n      ${e.map((e=>`<option value="${e.name}"></option>`)).join("")}\n    </datalist>`}(s,e)}\n          </div>\n\n          <div class="event__field-group  event__field-group--time">\n            <label class="visually-hidden" for="event-start-time-${e}">From</label>\n            <input class="event__input  event__input--time" id="event-start-time-${e}" type="text" name="event-start-time" value="${L(t.dateFrom,w)}">\n            &mdash;\n            <label class="visually-hidden" for="event-end-time-${e}">To</label>\n            <input class="event__input  event__input--time" id="event-end-time-${e}" type="text" name="event-end-time" value="${L(t.dateTo,w)}">\n          </div>\n\n          <div class="event__field-group  event__field-group--price">\n            <label class="event__label" for="event-price-${e}">\n              <span class="visually-hidden">Price</span>\n              &euro;\n            </label>\n            <input class="event__input  event__input--price" id="event-price-${e}" type="text" name="event-price" value="${t.basePrice}">\n          </div>\n\n          <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n          <button class="event__reset-btn" type="reset">Delete</button>\n          <button class="event__rollup-btn" type="button">\n            <span class="visually-hidden">Open event</span>\n          </button>\n        </header>\n        <section class="event__details">\n          ${function(e,t={},n){return 0!==t.offers.length?`<section class="event__section  event__section--offers">\n      <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n      <div class="event__available-offers">\n        ${t.offers.map((t=>function(e,t,n){const i=e.title.replace(/\s+/g,"-").toLowerCase();return`<div class="event__offer-selector">\n      <input class="event__offer-checkbox  visually-hidden" id="event-offer-${i}-${n}" type="checkbox" name="event-offer-${i}" ${t.offers.includes(e.id)?"checked":""}>\n      <label class="event__offer-label" for="event-offer-${i}-${n}">\n        <span class="event__offer-title">${e.title}</span>\n        &plus;&euro;&nbsp;\n        <span class="event__offer-price">${e.price}</span>\n      </label>\n    </div>`}(t,e,n))).join("")}\n      </div>\n    </section>`:""}(t,i,e)}\n\n          ${a=n,!a||""===a.description&&0===a.pictures.length?"":`<section class="event__section  event__section--destination">\n        <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n        <p class="event__destination-description">${a.description}</p>\n        ${function(e=[]){return 0!==e.length?`<div class="event__photos-container">\n      <div class="event__photos-tape">\n        ${e.map((e=>`<img class="event__photo" src="${e.src}" alt="${e.description}">`)).join("")}\n      </div>\n    </div>`:""}(a.pictures)}\n      </section>`}\n        </section>\n      </form>\n    </li>`;var e,t,n,i,s,a}#o=e=>{e.preventDefault(),this.#a()};#u=e=>{e.preventDefault(),this.#f(this.#n)}}const N="default",V="editing";class Y{#p=null;#h=null;#b=null;#n=null;#d=null;#l=null;#i=null;#s=null;#v=null;#m=null;#y=N;constructor({eventListContainer:e,allDestinations:t,allOffersPacks:n,onEventUpdate:i,onModeChange:s}){this.#p=e,this.#d=t,this.#l=n,this.#v=i,this.#m=s}init({event:e,currentDestination:t,currentOffersPack:n}){this.#n=e,this.#i=t,this.#s=n;const i=this.#h,s=this.#b;this.#h=new B({event:this.#n,currentDestination:this.#i,currentOffersPack:this.#s,onToggleClick:this.#g,onFavoriteClick:this.#r}),this.#b=new U({event:this.#n,currentDestination:this.#i,currentOffersPack:this.#s,allDestinations:this.#d,allOffersPacks:this.#l,onToggleClick:this.#_,onFormSubmit:this.#f}),null!==i&&null!==s?(this.#y===N&&g(this.#h,i),this.#y===V&&g(this.#b,s),_(i),_(s)):y(this.#h,this.#p)}destroy(){_(this.#h),_(this.#b)}resetView(){this.#y!==N&&this.#$()}#$(){g(this.#h,this.#b),document.removeEventListener("keydown",this.#C),this.#y=N}#T(){g(this.#b,this.#h),document.addEventListener("keydown",this.#C),this.#m(),this.#y=V}#C=e=>{"Escape"===e.key&&(e.preventDefault(),this.#$())};#g=()=>{this.#T()};#_=()=>{this.#$()};#r=()=>{this.#v({...this.#n,isFavorite:!this.#n.isFavorite})};#f=e=>{this.#v(e),this.#$()}}class W extends v{get template(){return'<section class="trip-events">\n      <h2 class="visually-hidden">Trip events</h2>\n    </section>'}}class q extends v{#k=null;#w=null;constructor({sortTypes:e,onSortTypeChangeClick:t}){super(),this.#k=e,this.#w=t,this.element.addEventListener("click",this.#E)}get template(){return function(e){return`<form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n      ${e.slice().map((e=>function(e){const{name:t,isAvailable:n,isDefault:i}=e;return`<div class="trip-sort__item  trip-sort__item--${t}">\n      <input\n        id="sort-${t}"\n        data-sort-type="${t}"\n        class="trip-sort__input  visually-hidden"\n        type="radio"\n        name="trip-sort"\n        value="sort-${t}"\n        ${i?"checked":""}\n        ${n?"":"disabled"}>\n      <label class="trip-sort__btn" for="sort-${t}">${Z(t)}</label>\n    </div>`}(e))).join("")}\n    </form>`}(this.#k)}#E=e=>{"INPUT"===e.target.tagName&&this.#w(e.target.dataset.sortType)}}class z extends v{get template(){return'<ul class="trip-events__list"></ul>'}}class R extends v{constructor(){super()}get template(){return'<p class="trip-events__msg">Click New Event to create your first point</p>'}}const K=[{name:"day",isAvailable:!0,isDefault:!0},{name:"event",isAvailable:!1,isDefault:!1},{name:"time",isAvailable:!0,isDefault:!1},{name:"price",isAvailable:!0,isDefault:!1},{name:"offers",isAvailable:!1,isDefault:!1}];function J(e,t){return null===e&&null===t?0:null===e?1:null===t?-1:null}function X(e,t){return J(e.dateFrom,t.dateFrom)??C()(e.dateFrom).diff(C()(t.dateFrom))}function Q(e,t){return J(e.dateFrom,t.dateFrom)??I(e)-I(t)}function G(e,t){return t.basePrice-e.basePrice}class ee{static get sortTypes(){return K}static get defaultSortType(){return K.find((e=>!0===e.isDefault)).name}static sortEvents(e,t){switch(e){case"time":t.sort(Q);break;case"price":t.sort(G);break;default:t.sort(X)}}}const te=document.querySelector(".page-header").querySelector(".trip-controls__filters"),ne=document.querySelector(".page-main").querySelector(".page-body__container"),ie=new class{#D=[];init(){this.#D=A}get destinations(){return this.#D}getDestinationById(e){return this.#D.find((t=>t.id===e))}},se=new class{#F=[];init(){this.#F=j}get events(){return this.#F}get defaultEvent(){return structuredClone(O)}},ae=new class{#M=[];init(){this.#M=x}get offersPacks(){return this.#M}getOffersPackByType(e){return this.#M.find((t=>t.type===e))}},re=new class{#S=null;#P=new W;#A=null;#j=new z;#O=new R;#F=[];#x=[];#Z=new Map;#H=null;#L=null;#I=null;#B=ee.defaultSortType;constructor({tripContainer:e,destinationsModel:t,eventsModel:n,offersModel:i}){this.#S=e,this.#H=t,this.#L=n,this.#I=i}init(){this.#F=[...this.#L.events],this.#U(this.#B),this.#x=[...this.#F],this.#N()}#m=()=>{this.#Z.forEach((e=>e.resetView()))};#v=e=>{this.#F=H(this.#F,e),this.#x=H(this.#F,e),this.#Z.get(e.id).init({event:e,currentDestination:this.#H.getDestinationById(e.destination),currentOffersPack:this.#I.getOffersPackByType(e.type)})};#U(e){ee.sortEvents(e,this.#F),this.#B=e}#w=e=>{this.#B!==e&&(this.#U(e),this.#V(),this.#Y())};#W(){this.#A=new q({sortTypes:ee.sortTypes,onSortTypeChangeClick:this.#w}),y(this.#A,this.#P.element,m)}#q(e){const t=new Y({eventListContainer:this.#j.element,allDestinations:this.#H.destinations,allOffersPacks:this.#I.offersPacks,onEventUpdate:this.#v,onModeChange:this.#m});t.init({event:e,currentDestination:this.#H.getDestinationById(e.destination),currentOffersPack:this.#I.getOffersPackByType(e.type)}),this.#Z.set(e.id,t)}#z(){for(let e=0;e<this.#F.length;e++)this.#q(this.#F[e])}#R(){y(this.#O,this.#P.element,m)}#V(){this.#Z.forEach((e=>e.destroy())),this.#Z.clear()}#Y(){y(this.#j,this.#P.element),this.#z()}#N(){y(this.#P,this.#S),0!==this.#F.length?(this.#W(),this.#Y()):this.#R()}}({tripContainer:ne,destinationsModel:ie,eventsModel:se,offersModel:ae});ie.init(),se.init(),ae.init(),re.init();const oe=(ce=se.events,Object.entries(P).map((([e,t])=>({type:e,count:t(ce).length}))));var ce;y(new class extends v{#K=null;constructor({filters:e}){super(),this.#K=e}get template(){return function(e){return`<form class="trip-filters" action="#" method="get">\n      ${e.map((e=>function(e){const{type:t,count:n}=e;return`<div class="trip-filters__filter">\n      <input id="filter-${t}" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="${t}" ${0===n?"disabled":""}>\n      <label class="trip-filters__filter-label" for="filter-${t}">${Z(t)} ${n}</label>\n    </div>`}(e))).join("")}\n      <button class="visually-hidden" type="submit">Accept filter</button>\n    </form>`}(this.#K)}}({filters:oe}),te)})()})();
//# sourceMappingURL=bundle.24619296288d3fba9dd4.js.map